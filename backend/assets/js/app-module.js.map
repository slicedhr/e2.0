{"version":3,"sources":["app-module.js"],"names":[],"mappings":"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","file":"app-module.js","sourcesContent":["\nString.prototype.contains = function(it) { \n\n  return this.indexOf(it) != -1; \n\n};\n\n\nArray.prototype.asyncForEach = function (each, done) {\n\n    var i = -1, a = this;\n\n    function iter() {\n\n      if (++i === a.length) { done && done(); return; }\n\n      each.call(a, a[i], iter);\n\n    }\n\n    iter();\n\n};\n\n(function () {\n  'use strict';\n\n  /* @ngdoc object\n   * @name enterprise\n   * @description\n   *\n   */\n  \n    function AppConfig(jwtInterceptorProvider, $httpProvider, $locationProvider){\n\n      $locationProvider.html5Mode(true)\n\n      jwtInterceptorProvider.tokenGetter = () => {\n\n        return sessionStorage['JWT'];\n\n      }\n       \n      $httpProvider.interceptors.push('jwtInterceptor');\n\n      $httpProvider.interceptors.push('ErrorInterceptor');\n\n    }\n\n    function RunApp($rootScope, $log, AuthService, AppService, $http, $state, $mdToast, CancelableHttpService){\n\n      $rootScope.auth = {}\n\n\n  /////// Events\n\n\n     \n\n\n      //On route start Change\n      \n      $rootScope.$on('$stateChangeStart', (e, toState, toParams, fromState, fromParams) => {\n\n        if (toState != fromState)\n          CancelableHttpService.cancelAll()\n\n        // Generate random design\n        $rootScope.generatedDesign = AppService.randomDesign()\n\n        $rootScope.toState = toState\n\n        $rootScope.fromState = fromState\n\n        //Cancel pending requests\n        \n        angular.forEach($http.pendingRequests, (request) => {\n\n            if (request.cancel && request.timeout)\n\n               request.cancel.resolve();\n             \n        });\n\n        //Is logged not allow to change to login state\n        if (angular.equals(toState.name, 'login') && sessionStorage['JWT']){\n\n          if(angular.equals(fromState.name, ''))\n            $state.transitionTo('home')\n\n          e.preventDefault()\n          \n        }\n\n        if ( angular.equals(fromState.name, 'login') && angular.equals(toState.name,'home') )\n          $rootScope.$broadcast('initialData', true)\n\n\n        //Isnt login\n        \n        if (!toState.withoutAuthorization && !sessionStorage['JWT']){\n\n          AppService.clearSession();\n\n          e.preventDefault();\n\n          $state.transitionTo('login')\n\n        }\n\n\n      })\n\n      //On Change Completed\n    \n      $rootScope.$on('$stateChangeSuccess', (event, next, current) => {\n\n      })\n\n        //Handle AuthError\n\n      $rootScope.$on('AuthError', (something) => {\n\n        $log.warn('AuthError')\n\n        if (sessionStorage['JWT']) delete sessionStorage['JWT']\n\n        $rootScope.auth.logged = false\n\n        $state.transitionTo('login')\n\n      })\n\n        //Handdle server error\n      $rootScope.$on('ServerError', (something) => {\n\n        console.info(something)\n\n        $mdToast.show(\n\n          $mdToast.simple()\n\n            .textContent('Al parecer ocurriÃ³ un error.!')\n            .position('bottom left')\n            .hideDelay(5000)\n\n        );\n\n\n      })\n\n\n    }\n\n\n    function AppCtrl($rootScope, $scope, $timeout, $mdDialog, AppService, AuthService, $mdSidenav){\n\n      var self = this\n\n      this.selectedMainTab = 1\n\n      this.activatedmenu = false\n\n      this.loading = false\n\n      if (sessionStorage['JWT']){\n\n        AuthService.verify().then( response => {\n\n          $rootScope.auth.user = response.data.user\n\n          $rootScope.$broadcast('initialData')\n\n        }, err => {\n\n          alert('Ocurrio un error! \\r\\n Detalle: \\r\\n '+JSON.stringify(err))\n\n        })\n          \n      }\n      else\n        $rootScope.$broadcast('AuthError')\n\n      $scope.mainMenuSettings = {\n        closeEl: '.close',\n        modal: {\n           templateUrl: 'partials/main-menu.tpl.html',\n           position: {\n            top: '0%',\n            left: '0%'\n           },\n           fade: true\n         }\n      }\n\n      this.generateDesign = title => {\n\n        self.titletab = title\n\n        self.design = AppService.randomDesign(false)\n\n      }\n\n      //Get Initial data\n        \n      this.getInitialData = () => {\n\n          AppService\n            .initialData( $rootScope.auth.user.id )\n            .then( response => {\n\n\n              self.initData = response.data\n              console.log(self.initData)\n\n            }, () => {\n              console.log('error')\n            })\n      }\n\n      this.openNotificationsSideNav = tab => {\n\n        $timeout( () => {\n          self.selectedMainTab = tab\n        })\n\n        $mdSidenav('profilenotifications')\n          .toggle()\n          .then(function(){\n          });\n      }\n\n      \n      //ROOTSCOPE FUNCTIONS\n      //\n      \n      $rootScope.generatedDesign = AppService.randomDesign()\n\n      $rootScope.slug = (input) => {\n\n        return input.replace(/[\\/\\s]+/gi,'-')\n\n      }\n\n      $rootScope.$on('initialData', ($event, data) => {\n\n        self.getInitialData()\n\n      })\n\n       // When is loading\n      \n      $rootScope.$on('cfpLoadingBar:loading', data => {\n\n        self.loading = true\n\n      })\n\n      // On load completed\n\n      $rootScope.$on('cfpLoadingBar:completed', data => {\n\n        self.loading = false\n\n      })\n\n    }\n\n    function SlideAnimation() {\n\n      return {\n\n          enter: function (element, done) {\n\n            console.log('enter');\n\n              element.hide().slideDown(600, done);\n\n          },\n\n          move: function(element, done) {\n\n              console.log('move');\n\n              element.slideUp(600, done);\n\n          },\n          leave: function(element, done) {\n\n              console.log('leave');\n\n              element.slideUp(600, done);\n\n          }\n      };\n\n  }\n\n\n    angular\n    .module('enterprise', [\n      'md.data.table',\n      'ngMaterial',\n      'ngMorph',\n      'ngAnimate',\n      'angular-jwt',\n      'angular-loading-bar',\n      'ngMdIcons',\n      'ui.router',\n      'anim-in-out',\n      'perfect_scrollbar',\n      'angular-svg-round-progress',\n      'pasvaz.bindonce',\n      'headroom',\n      'ui.tinymce',\n      'ui.knob',\n      'home',\n      'login',\n      'user',\n      'areas',\n      'arp',\n      'eps',\n      'dianretefuente',\n      'iva',\n      'mediosdepago',\n      'marcas',\n      'otrosimpuestos',\n      'terminosdepago',\n      'tiemposdeentrega',\n      'vigencia',\n      'paises',\n      'ciudades',\n      'categoriasproductos',\n      'productos',\n      'cotizaciones',\n      'clientes'\n    ])\n    .controller('AppCtrl', AppCtrl)\n\n    .animation('.slide', SlideAnimation)\n\n    .config(AppConfig)\n\n    .filter('renderHTML', $sce => {\n      return stringToParse => {\n        return $sce.trustAsHtml(stringToParse);\n      }\n    }\n       )\n\n    .run(RunApp);\n\n}());\n"],"sourceRoot":"/source/"}