{"version":3,"sources":["login/auth-factory.js"],"names":[],"mappings":";;AAAA,AAAC,CAAA,YAAY;AACX,oBAAY,CAAC;;;;;;;;;AASb,eAAO,CACJ,MAAM,CAAC,OAAO,CAAC,CACf,OAAO,CAAC,aAAa,EAAE,WAAW,CAAC,CAAC;;AAEvC,iBAAS,WAAW,CAAC,UAAU,EAAE,SAAS,EAAE,KAAK,EAAE,UAAU,EAAE;;AAE7D,oBAAI,QAAQ,GAAG,EAAE,CAAA;;AAEjB,wBAAQ,CAAC,KAAK,GAAG,UAAU,IAAI,EAAE;;AAE/B,4BAAI,MAAM,GAAG;;AAEX,sCAAM,EAAE,MAAM;;AAEd,iDAAiB,EAAE,IAAI;;AAEvB,oCAAI,EAAE,IAAI;;AAEV,mCAAG,EAAE,UAAU,CAAC,SAAS,CAAC,YAAY,CAAC;;yBAExC,CAAA;;AAED,+BAAO,KAAK,CAAC,MAAM,CAAC,CAAA;iBAErB,CAAA;;AAED,wBAAQ,CAAC,MAAM,GAAG,YAAU;;AAE1B,4BAAI,MAAM,GAAG;;AAEX,sCAAM,EAAE,MAAM;;AAEd,iDAAiB,EAAE,IAAI;;AAEvB,oCAAI,EAAE,EAAE,KAAK,EAAE,cAAc,CAAC,KAAK,CAAC,EAAE;;AAEtC,mCAAG,EAAE,UAAU,CAAC,SAAS,CAAC,aAAa,CAAC;;yBAEzC,CAAA;;AAED,+BAAO,KAAK,CAAC,MAAM,CAAC,CAAA;iBAErB,CAAA;;AAED,0BAAU,CAAC,YAAY,GAAG,YAAU;;AAElC,kCAAU,CAAC,IAAI,GAAG,EAAE,CAAA;;AAEpB,+BAAO,cAAc,CAAC,KAAK,CAAC,CAAA;iBAE7B,CAAA;;AAED,wBAAQ,CAAC,MAAM,GAAG,YAAY;;AAE5B,kCAAU,CAAC,UAAU,CAAC,SAAS,EAAE,KAAK,CAAC,CAAC;;AAEtC,4BAAI,OAAO,GAAG,SAAS,CAAC,OAAO,EAAE,CAEhC,KAAK,CAAC,cAAc,CAAC,CAErB,OAAO,CAAC,0BAA0B,CAAC,CAEnC,EAAE,CAAC,WAAW,CAAC,CAEf,MAAM,CAAC,UAAU,CAAC,CAAA;;AAEnB,iCAAS,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,YAAW,EAEvC,EAAE,YAAW,EAEb,CAAC,CAAC;iBAEN,CAAA;;AAED,uBAAO,QAAQ,CAAC;SACjB;CACF,CAAA,EAAE,CAAE","file":"login/auth-factory.js","sourcesContent":["(function () {\r\n  'use strict';\r\n\r\n  /**\r\n   * @ngdoc service\r\n   * @name login.factory:Auth\r\n   *\r\n   * @description\r\n   *\r\n   */\r\n  angular\r\n    .module('login')\r\n    .factory('AuthService', AuthService);\r\n\r\n  function AuthService($rootScope, $mdDialog, $http, AppService) {\r\n\r\n    var AuthBase = {}\r\n\r\n    AuthBase.login = function (data) {\r\n\r\n      var config = {\r\n\r\n        method: 'POST', \r\n\r\n        skipAuthorization: true,\r\n\r\n        data: data,\r\n\r\n        url: AppService.setPrefix('auth/login')\r\n\r\n      }\r\n\r\n      return $http(config)\r\n\r\n    }\r\n\r\n    AuthBase.verify = function(){\r\n\r\n      var config = {\r\n\r\n        method: 'POST', \r\n\r\n        skipAuthorization: true,\r\n\r\n        data: { token: sessionStorage['JWT'] },\r\n\r\n        url: AppService.setPrefix('auth/verify')\r\n\r\n      }\r\n\r\n      return $http(config)\r\n      \r\n    }\r\n\r\n    AppService.clearSession = function(){\r\n\r\n      $rootScope.auth = {}\r\n\r\n      delete sessionStorage['JWT']\r\n\r\n    }\r\n\r\n    AuthBase.logout = function () {\r\n\r\n      $rootScope.$broadcast('loading', false);\r\n\r\n        var confirm = $mdDialog.confirm()\r\n\r\n        .title('Confirmación')\r\n\r\n        .content('¿Realmente deseas salir?')\r\n\r\n        .ok('Confirmar')\r\n\r\n        .cancel('Cancelar')\r\n\r\n        $mdDialog.show(confirm).then(function() {\r\n          \r\n        }, function() {\r\n          \r\n        });\r\n\r\n    }\r\n\r\n    return AuthBase;\r\n  }\r\n}());\r\n"],"sourceRoot":"/source/"}