{"version":3,"sources":["clientes/clientes-controller.js"],"names":[],"mappings":"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","file":"clientes/clientes-controller.js","sourcesContent":["(function () {\n  'use strict';\n\n  /**\n   * @ngdoc object\n   * @name clientes.controller:ClientesCtrl\n   *\n   * @description\n   *\n   */\n  angular\n    .module('clientes')\n    .controller('ClientesCtrl', ClientesCtrl);\n\n  function ClientesCtrl(AppService, $rootScope, $scope, $stateParams, $filter, $mdToast, $mdSidenav) {\n\n    var self = this;\n\n    this.activedShowHide = false\n\n    this.base = 'clientes'\n\n    this.title = 'Clientes'\n\n    this.getCatClientes = () => {\n\n      AppService.http(AppService.setConfig({\n\n          url: AppService.setPrefix('categoriacliente?populate=categoriacliente&limit=999'),\n\n          method: 'GET'\n\n        }))\n        .then( success => {\n\n            self.categoriasclientesArr = success.data.results\n      \n      })\n\n    }\n\n    this.getCatClientes()\n\n    this.removeDuplicateItems = items => items.filter(item => item.data == true).sort((a, b) => a.categoriacliente - b.categoriacliente)\n\n    this.transformToCategoriacliente = item => $filter('filter')(self.categoriasclientesArr, { id: item.categoriacliente } )\n\n    if ($stateParams.id){\n\n      this.datos = {}\n\n      this.seguimientosForm = {}\n\n      this.optionsWYSIWYG = AppService.defaultWYSIWYGConfig\n\n      this.referidosCalled = false\n\n      this.seguimientosCalled = false\n\n      this.contactosCalled = false\n\n      this.cotizacionesCalled = false\n\n      let id = $stateParams.id\n\n      let config = AppService.setConfig({\n\n        url: AppService.setPrefix('cliente/sorted') + '?cliente=' + id,\n\n        method: 'GET',\n\n      })\n\n      //Call customer data\n      AppService.http(config).then(success => {\n\n        self.datos = success.data\n\n        self.datos.categoriascliente = self.datos.categoriascliente.filter(item => item.data == true).sort((a, b) => a.categoriacliente - b.categoriacliente)\n\n        console.log(self.datos)\n\n      }).catch(err => console.log(err))\n\n\n      this.getOnTabSelect = (url, called, varname, order = false) => {\n\n        if (!this[called]){\n\n          let config = {\n            url: AppService.setPrefix(`${url}=${id}`),\n            methond: 'GET'\n          }\n\n          config.url = order ? config.url + 'sort=id DESC' : config.url;\n\n          AppService\n            .http(config)\n            .then(success => {\n\n              self[varname] = success\n\n              self[called] = true\n\n              if (varname == 'contactos')\n\n                AppService.http(AppService.setConfig({\n\n                    url: AppService.setPrefix('categoriasproductos'),\n\n                    method: 'GET'\n\n                }))\n                .then( success => {\n\n                      self.categoriasproductos = success.data.results\n\n                      //Call states\n                      AppService.http(AppService.setConfig({\n\n                          url: AppService.setPrefix('estados'),\n\n                          method: 'GET'\n\n                      }))\n                      .then( success => {\n\n                          self.estados = success.data.results\n                    \n                      })\n                \n                })\n\n\n            })\n\n        }\n\n      }\n\n\n      this.seguimientosDialog = $event => {\n\n        var dialog = {\n          \n          scope: $scope,\n\n          targetEvent: $event,\n\n          title: 'Nuevo Seguimiento',\n\n          source: 'minuta',\n\n          template: 'seguimientos-form',\n\n          dataToForm: {\n            contactos: self.contactos.data,\n            estados: self.estados,\n            cliente: self.datos.id,\n            categoriasproductos: self.categoriasproductos\n          }\n\n        }\n\n      AppService\n        .showFormDialog(dialog)\n        .then( data => {\n\n          if (!data) return\n\n          self.datos.seguimientos.push(data)\n\n          if (data.contacto)\n            $filter('filter')(self.contactos.data, { id: data.contacto })[0].minuta.push(data)\n\n          self.datos.seguimientosactivos = !data.programar\n\n        })\n        .catch(err => {\n\n\n        })\n\n      }\n\n      this.toggleSeguimientos = () => {\n\n        let config = {\n\n            method: 'PUT',\n\n            url: AppService.setPrefix(`seguimientos/cancelar/${self.datos.id}?vendedor=${$rootScope.auth.user.id}`)\n\n          }\n\n          AppService\n            .http(config)\n            .then(success => {\n\n              console.log(success.data)\n\n              if (success.data.cliente){\n                self.datos.seguimientosactivos = success.data.cliente.seguimientosactivos\n\n                self.datos.seguimientos.push(success.data)\n\n                $mdToast.show(\n\n                  $mdToast.simple()\n\n                    .textContent('Seguimientos cancelados para este cliente!')\n                    .position('bottom right')\n                    .hideDelay(5000)\n\n                );\n\n              }\n\n\n            })\n\n      }\n\n      this.totalvendidos = () => $filter('filter')(self.datos.cotizaciones, { vendido: true })\n\n    }\n    else{\n\n\n    this.selected = []\n\n    this.page = 1\n\n    this.limit = 10\n\n\n\n    this.templateForm  = 'clientes-form'\n\n    this.colors = {\n\n      low: 'lightred',\n\n      medium: 'lightyellow',\n\n      ok: 'lightgreen',\n\n      never: 'black'\n\n    }\n\n    this.search = {\n      \n      icon: 'search',\n\n      toggleSearch: () => {\n\n          self.search.showInput = !self.search.showInput\n\n          self.search.icon = self.search.showInput ? 'cancel' : 'search'\n\n      },\n\n      autocomplete: (text, base, key) => {\n\n        var query = { }\n\n        query[key] = {\n\n            \"contains\" : text\n\n          }\n\n\n        return AppService.get(\n          {\n            url: base,\n\n            query: `where=${JSON.stringify(query)} `\n\n          }\n        )\n        .then(success => {\n\n          return success.data.results\n\n        })\n\n      },\n\n      checkAutocomplete: item => {\n\n        if (item)\n          self.search.fire(item.id)\n\n      },\n\n      check: () => {\n\n        if (self.search.by == 'distribuidor' || self.search.by == 'natural')\n          self.search.fire()\n\n      },\n\n      fire: (data, normal = false) => {\n\n        var query = {}\n\n        self.page = 1;\n\n\n        var config = {\n\n          url: self.base,\n\n          query: query,\n\n          page: self.page,\n\n          limit: self.limit\n\n        }\n\n\n        if (normal) \n          query[self.search.by] = {\n\n            \"contains\" : data\n\n          }\n        \n        else{\n\n          switch(self.search.by){\n\n            case 'usuario':\n\n              query['vendedor_asignado'] = data\n\n            break;\n\n            case 'ciudad':\n\n              query['ciudad'] = data\n\n            break;\n\n            case 'categoriacliente':\n\n              query['categoriacliente'] = data\n\n              config.url = 'cc2p'\n\n            break;\n\n            case 'distribuidor':\n\n              query['distribuidor'] = 1\n\n            break;\n\n            case 'natural':\n\n              query['natural'] = 1\n\n            break;\n\n            case 'color':\n\n              var today = moment().toISOString();\n\n              var menos15 = moment().subtract(15, 'days').toISOString();\n\n              var menos30 = moment().subtract(30, 'days').toISOString();\n\n\n              switch(self.search.color){\n\n                case self.colors.ok:\n\n                  query['ultimo_seguimiento'] = {\n                    '>=': menos15,\n                     '<=': today\n                   }\n\n                break;\n\n                case self.colors.medium:\n\n                  query['ultimo_seguimiento'] = {\n                    '>': menos15,\n                     '<=': today\n                   }\n\n                break;\n\n                case self.colors.medium:\n\n                  query['ultimo_seguimiento'] = {\n                    '<': menos30,\n                   }\n\n                break;\n\n              }\n\n            break;\n\n          }\n\n        }\n\n        query = 'where=' + JSON.stringify(query)\n\n        config.query = query\n\n        AppService\n          .get(config)\n          .then( success => {\n\n            var data = success.data\n\n            data.query = query\n\n            self.search.toggleSearch()\n\n            self.total = success.data.count\n\n            $rootScope.$broadcast('filtered', data)\n\n          })\n      },\n\n\n      listfilters: [\n        {\n          key: 'usuario',\n          title: 'Vendedor Asignado',\n          selected: true\n        },\n        {\n          key: 'nit',\n          title: 'NIT'\n        },\n        {\n          key: 'razon_social',\n          title: 'Razon Social'\n        },\n        {\n          key: 'color',\n          title: 'Color'\n        },\n        // {\n        //   key: 'color_y_usuario',\n        //   title: 'Color y usuario'\n        // },\n        // {\n        //   key: 'distribuidor',\n        //   title: 'Distribuidor'\n        // },\n        // {\n        //   key: 'natural',\n        //   title: 'Persona Natural'\n        // },\n        {\n          key: 'categoriacliente',\n          title: 'Categoría Cliente'\n        },\n        {\n          key: 'ciudad',\n          title: 'Ciudad'\n        },\n      ],\n\n    }\n\n\n    //Get\n\n    this.$get = (page, limit, order) => {\n\n      AppService.scrollToTop('#mainContent')\n\n      let config = {\n\n          page: page,\n          \n          url: self.base,\n          \n          limit: limit,\n\n          query: self.query || undefined,\n\n          order: order || undefined\n\n        }\n\n      if (self.search.by === 'categoriacliente')\n        config.url = 'cc2p'\n\n      AppService\n        .get(config)\n\n        .then(success => {\n\n          let results = []\n\n          self.rows = []\n\n          if (self.search.by === 'categoriacliente'){\n\n\n            success.data.results.forEach(function(element, index){\n\n              let filtered = $filter('getByID')(results, element.cliente.id)\n\n              if (!filtered){\n\n                results.push(() => {\n\n                  let cliente = element.cliente\n\n                  cliente.categoriascliente = []\n\n                  delete element.cliente\n\n                  element.categoriacliente = element.categoriacliente.id\n\n\n                  cliente.categoriascliente.push(element)\n\n                  return cliente\n\n                }())\n\n              }\n\n              else {\n\n                let index = results.indexOf(filtered)\n\n                delete element.cliente\n\n                element.categoriacliente = element.categoriacliente.id\n\n\n                results[index].categoriascliente.push(element)\n\n              }\n              \n\n            });\n            \n          }\n            \n          else\n            results = success.data.results\n\n          for (let i = results.length - 1; i >= 0; i--) {\n\n            var color\n\n            results[i].seguimiento = {}\n\n            if (results[i].ultimo_seguimiento){\n\n              results[i].seguimiento.dias = moment().diff(results[i].ultimo_seguimiento,'days')\n\n              var dias = results[i].seguimiento.dias\n\n              if (dias <= 15)\n                color = self.colors.ok\n\n              else if(dias > 15 && dias <= 30)\n                color =  self.colors.medium\n\n              else\n                color =  self.colors.low\n            }\n\n            else\n              color =  self.colors.never\n            \n            results[i].color = color\n\n            self.rows.push(results[i])\n\n          }\n\n          self.total = success.data.info.total\n\n\n        })\n        .catch(err => {\n\n          console.log(err)\n\n        })\n\n    }\n\n\n    this.$get(self.page, self.limit)\n\n\n\n    //Show Form Edit/Create\n    \n    this.form = ($event, item, duplication = false) => {\n\n      self.dataToForm = {}\n\n      if (item && !duplication){\n\n        var options = {\n\n          array: self.rows,\n\n          condicion: { id: item.id }\n\n        }\n\n        var index = AppService.filter(options)\n\n        self.dataToForm = self.rows[index];\n\n        self.tempData = angular.copy(self.rows[index])\n\n      };\n\n      if (duplication){\n\n        self.dataToForm = angular.copy(item)\n\n        delete self.dataToForm.id\n\n        delete self.dataToForm.$hashKey\n\n      }\n\n      var dialog = {\n\n        scope: $scope,\n\n        targetEvent: $event,\n\n        dataToForm: self.dataToForm,\n\n        title: self.title,\n\n        source: self.base,\n\n        template: self.templateForm\n\n      }\n\n      AppService\n        .showFormDialog(dialog)\n        .then( data => {\n\n         if (data){\n\n          if( item && angular.equals(angular.copy(item), self.tempData) && !duplication)\n            self.rows[index] = data\n\n          if ( !item || duplication)\n            self.rows.push(data)\n\n         }\n\n\n        })\n        .catch(err => {\n\n\n        })\n\n    }\n\n\n    //Delete\n    \n    this.delete = ($event, id) => {\n\n      AppService\n        .deleteDialog($event)\n        .then(() => \n\n          AppService\n            .delete(self.base, id)\n\n        )\n\n        .then(response => {\n              \n          var options = {\n\n            array: self.rows,\n\n            condicion: { id: response.data.id }\n\n          }\n\n          var index = AppService.filter(options)\n\n          self.rows.splice(index, 1)\n\n          $('.scroller').scrollTop($('.scroller').scrollTop + 1)\n\n        })\n        .catch(() => {\n\n        })\n\n    }\n\n    this.getSelected = data => {\n\n      console.log(self.selected)\n\n    }\n\n    \n\n    this.keysToString = (keys, obj) => {\n\n      if (!keys.contains('>'))\n        return obj[keys]\n\n      else{\n\n        var keys = keys.split('>')\n\n        var temp = obj\n\n        for (var i = 0; i < keys.length; i++)\n          temp = temp[ keys[ i ] ]\n\n        return temp\n\n      }\n\n    }\n\n    //On filtered\n    \n    $rootScope.$on('filtered', ($event, data) => {\n\n      let results = []\n      \n      self.rows = []\n\n      AppService.scrollToTop('#mainContent')\n\n      if (self.search.by === 'categoriacliente'){\n\n\n        data.results.forEach(function(element, index){\n\n          let filtered = $filter('getByID')(results, element.cliente.id)\n\n          if (!filtered){\n\n            results.push(() => {\n\n              let cliente = element.cliente\n\n              cliente.categoriascliente = []\n\n              delete element.cliente\n\n              element.categoriacliente = element.categoriacliente.id\n\n              cliente.categoriascliente.push(element)\n\n              return cliente\n\n            }())\n\n          }\n\n          else {\n\n            let index = results.indexOf(filtered)\n\n            delete element.cliente\n\n            element.categoriacliente = element.categoriacliente.id\n\n\n            results[index].categoriascliente.push(element)\n\n          }\n\n\n        });\n        \n      }\n        \n      else\n        results = data.results\n\n      for (let i = results.length - 1; i >= 0; i--) {\n\n          var color\n\n          results[i].seguimiento = {}\n\n          if (results[i].ultimo_seguimiento){\n\n            results[i].seguimiento.dias = moment().diff(results[i].ultimo_seguimiento,'days')\n\n            var dias = results[i].seguimiento.dias\n\n            if (dias <= 15)\n              color = self.colors.ok\n\n            else if(dias > 15 && dias <= 30)\n              color =  self.colors.medium\n\n            else\n              color =  self.colors.low\n          }\n\n          else\n            color =  self.colors.never\n          \n          results[i].color = color\n\n          self.rows.push(results[i])\n\n        }\n\n      self.total = data.info.total\n\n      self.page = data.info.start + 1\n\n      self.limit = data.info.limit\n\n      self.query = data.query\n\n\n    })\n    \n\n    self.onOrderChange = function(){\n\n      var order = self.order\n\n      if (order.contains('-'))\n        order = self.order.replace('-', '') + ' ASC'\n      \n      else\n        order = order + ' DESC'\n\n      self.$get(1, self.limit, order)\n\n    }\n\n\n    self.columns = {\n\n      nit: {\n        title: 'NIT',\n        actived: true\n      },\n\n      razon_social: {\n        title: 'Razón Social/Nombre',\n        actived: true\n      },\n\n      ciudad: {\n        title: 'Ciudad',\n        actived: true\n      },\n\n      telefonos: {\n        title: 'Teléfonos',\n        actived: true\n      },\n\n      email: {\n        title: 'Email',\n        actived: true\n      },\n\n      vendedor_asignado: {\n        title: 'Vendedor',\n        actived: true\n      },\n\n      tags: {\n        title: 'Tags',\n        actived: true\n      },\n\n      pais: {\n        title: 'País',\n        actived: false\n      },\n\n      representante: {\n        title: 'Representante Legal',\n        actived: false\n      },\n\n      responsable: {\n        title: 'Responsable Delegado',\n        actived: false\n      },\n\n      direccion: {\n        title: 'Dirección',\n        actived: false\n      },\n\n      comentarios: {\n        title: 'Comentarios',\n        actived: false\n      },\n\n      website: {\n        title: 'Website',\n        actived: false\n      }\n\n    }\n\n    self.showHideMenu = () =>{\n\n      $mdSidenav('listShowHideColumnsClientes')\n          .toggle()\n\n    }\n\n  }\n    \n  }\n}());\n"],"sourceRoot":"/source/"}