{"version":3,"sources":["clientes/seguimientos-form-directive.js"],"names":[],"mappings":";;AAAA,AAAC,CAAA,YAAY;AACX,cAAY,CAAC;;;;;;;;;;;;;;;;;;AAkBb,SAAO,CACJ,MAAM,CAAC,UAAU,CAAC,CAClB,SAAS,CAAC,kBAAkB,EAAE,gBAAgB,CAAC,CAAC;;AAEnD,WAAS,gBAAgB,GAAG;AAC1B,WAAO;AACL,cAAQ,EAAE,IAAI;AACd,WAAK,EAAE;AACL,YAAI,EAAE,GAAG;OACV;AACD,iBAAW,EAAE,+CAA+C;AAC5D,aAAO,EAAE,KAAK;AACd,kBAAY,EAAE,kBAAkB;AAChC,gBAAU,EAAE,oBAAU,MAAM,EAAE,UAAU,EAAE,UAAU,EAAE;;AAEpD,YAAI,IAAI,GAAG,IAAI,CAAC;;AAEhB,YAAI,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,CAAA;;AAEvC,YAAI,CAAC,SAAS,GAAG,SAAS,CAAC,SAAS,CAAA;;AAEpC,YAAI,CAAC,OAAO,GAAG,SAAS,CAAC,OAAO,CAAA;;AAEhC,YAAI,CAAC,mBAAmB,GAAG,SAAS,CAAC,mBAAmB,CAAA;;AAExD,YAAI,CAAC,IAAI,GAAG;;AAEV,iBAAO,EAAE,IAAI;;AAEb,iBAAO,EAAE,SAAS,CAAC,OAAO;;SAE3B,CAAA;;AAED,YAAI,CAAC,MAAM,GAAG,QAAQ,CAAA;;AAEtB,YAAI,CAAC,cAAc,GAAG,UAAU,CAAC,oBAAoB,CAAA;;;;AAIrD,YAAI,CAAC,MAAM,GAAG,IAAI,IAAI,EAAE,CAAC;;AAEzB,YAAI,CAAC,KAAK,GAAG,IAAI,IAAI,CACjB,IAAI,CAAC,MAAM,CAAC,WAAW,EAAE,EACzB,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,EACtB,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,GAAG,CAAC,CAC5B,CAAC;;AAIF,YAAI,CAAC,IAAI,GAAG,YAAM;;AAEhB,cAAI,IAAI,GAAG,IAAI,CAAC,IAAI;cAEhB,GAAG,GAAG,IAAI,CAAC,MAAM,CAAA;;AAErB,oBAAU,CACP,IAAI,CAAC,IAAI,EAAE,GAAG,CAAC,CACf,IAAI,CAAC,UAAA,OAAO,EAAI;;AAEb,mBAAO,CAAC,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC,IAAI,CAAC,SAAS,CAAA;;AAEvD,sBAAU,CAAC,eAAe,CAAC,OAAO,CAAC,IAAI,CAAC,CAAA;;AAExC,sBAAU,CAAC,UAAU,CAAC,QAAQ,GAAG,IAAI,CAAC,MAAM,EAAE,OAAO,CAAC,IAAI,CAAC,CAAA;WAG9D,CAAC,SACI,CAAC,UAAA,GAAG,EAAI;;AAEZ,sBAAU,CAAC,cAAc,CAAC,GAAG,CAAC,CAAA;WAE/B,CAAC,CAAA;SAEL,CAAA;OAEF;AACD,UAAI,EAAE,cAAU,KAAK,EAAE,OAAO,EAAE,KAAK,EAAE;;;OAGtC;KACF,CAAC;GACH;CACF,CAAA,EAAE,CAAE","file":"clientes/seguimientos-form-directive.js","sourcesContent":["(function () {\n  'use strict';\n\n  /**\n   * @ngdoc directive\n   * @name seguimientos.directive:seguimientosForm\n   * @restrict EA\n   * @element\n   *\n   * @description\n   *\n   * @example\n     <example module=\"seguimientos\">\n       <file name=\"index.html\">\n        <seguimientos-form></seguimientos-form>\n       </file>\n     </example>\n   *\n   */\n  angular\n    .module('clientes')\n    .directive('seguimientosForm', seguimientosForm);\n\n  function seguimientosForm() {\n    return {\n      restrict: 'EA',\n      scope: {\n        data: '@'\n      },\n      templateUrl: 'clientes/seguimientos-form-directive.tpl.html',\n      replace: false,\n      controllerAs: 'seguimientosForm',\n      controller: function ($scope, $rootScope, AppService) {\n        \n        var self = this;\n\n        var scopedata = JSON.parse($scope.data)\n\n        this.contactos = scopedata.contactos\n\n        this.estados = scopedata.estados\n        \n        this.categoriasproductos = scopedata.categoriasproductos\n\n        this.data = {\n\n          general: true,\n\n          cliente: scopedata.cliente\n\n        }\n\n        this.source = 'minuta'\n\n        this.optionsWYSIWYG = AppService.defaultWYSIWYGConfig\n\n        // this.today = moment().add(1,'day').format()\n\n        this.myDate = new Date();\n\n        this.today = new Date(\n            this.myDate.getFullYear(),\n            this.myDate.getMonth(),\n            this.myDate.getDate() + 1\n        );\n\n\n\n        this.save = () => {\n\n          var data = self.data, \n\n              url = self.source\n\n          AppService\n            .save(data, url)\n            .then(success => {\n\n                success.data.programarseguimiento = self.data.programar\n\n                AppService.broadcastDialog(success.data)\n\n                $rootScope.$broadcast('saved:' + self.source, success.data)\n\n\n            })\n            .catch(err => {\n\n              AppService.broadcastError(err)\n\n            })\n\n        }\n\n      },\n      link: function (scope, element, attrs) {\n        /* jshint unused:false */\n        /* eslint \"no-unused-vars\": [2, {\"args\": \"none\"}] */\n      }\n    };\n  }\n}());\n"],"sourceRoot":"/source/"}