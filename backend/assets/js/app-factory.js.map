{"version":3,"sources":["app-factory.js"],"names":[],"mappings":"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","file":"app-factory.js","sourcesContent":["(function () {\r\n  'use strict';\r\n\r\n  /**\r\n   * @ngdoc service\r\n   * @name enterprise.factory:App\r\n   *\r\n   * @description\r\n   *\r\n   */\r\n  angular\r\n    .module('enterprise')\r\n    .factory('AppService', AppService);\r\n\r\n  function AppService($q, $http, $filter, $rootScope, $mdToast, $mdDialog, apiUrl) {\r\n\r\n    var AppBase = {}, self = AppBase;\r\n\r\n\r\n    // Set prefix to url\r\n    \r\n    AppBase.setPrefix = url => {\r\n\r\n      return url.contains(apiUrl.serverUrl) ? url : apiUrl.prefix + url\r\n\r\n    }\r\n\r\n\r\n    // If server url then set server address & prefix\r\n    \r\n    AppBase.setServerUrl = (url, prefix = true) => {\r\n\r\n      if (prefix)\r\n\r\n        return url.contains(apiUrl.serverUrl) ? apiUrl.serverUrl + url : apiUrl.serverUrl + apiUrl.prefix + url\r\n      \r\n      else\r\n\r\n        return apiUrl.serverUrl + '/' + url\r\n\r\n    }\r\n\r\n\r\n    // Filter Item By Condition\r\n    \r\n    AppBase.filter = options => {\r\n\r\n      var filter = $filter('filter')(options.array, options.condicion || {}, true)[0];\r\n\r\n      var index = options.array.indexOf(filter);\r\n\r\n      return index\r\n\r\n    }\r\n\r\n\r\n    // Default Dialog\r\n\r\n    AppBase.showFormDialog = options => {\r\n\r\n       return $mdDialog.show({\r\n\r\n        controller: DialogController,\r\n\r\n        templateUrl: options.template,\r\n\r\n        clickOutsideToClose: true,\r\n\r\n        escapeToClose: true,\r\n\r\n        scope: options.scope,\r\n\r\n        preserveScope: true,\r\n\r\n        parent: angular.element(document.body),\r\n\r\n        disableParentScroll: true,\r\n\r\n        targetEvent: options.targetEvent\r\n\r\n      })\r\n\r\n\r\n       function DialogController($rootScope, $mdDialog){\r\n\r\n        $rootScope.$on('SavedInDialog', function($event, data){\r\n\r\n          $mdDialog.hide(data);\r\n\r\n        })\r\n\r\n       }\r\n\r\n    }\r\n\r\n\r\n    // Broadcasting of data from Default Dialog\r\n    \r\n    AppBase.broadcastDialog = dialogData => {\r\n\r\n      $rootScope.$broadcast('SavedInDialog', dialogData)\r\n\r\n    }\r\n\r\n\r\n    // Broadcasting of ERROR from Default Dialog\r\n    \r\n    AppBase.broadcastError = err => {\r\n\r\n      $rootScope.$broadcast('ServerError', dialogData)\r\n\r\n    }\r\n\r\n\r\n    //Default HTTP CALL\r\n\r\n    AppBase.http = config => {\r\n\r\n      return $http(config);\r\n\r\n    }\r\n\r\n\r\n    // Add promise to HTTP Request \r\n    // In case of change route then the request they are cancelled\r\n\r\n    AppBase.setConfig = config => {\r\n\r\n      var deferred = $q.defer(), \r\n          promise = deferred.promise\r\n\r\n      config.timeout = promise\r\n\r\n      config.cancel = deferred\r\n\r\n      $rootScope.deferredprogress = promise\r\n\r\n      return config\r\n\r\n    }\r\n\r\n\r\n    // Get Initial Data\r\n\r\n    AppBase.initialData = ( id, prefix = true ) => {\r\n\r\n      var config = self.setConfig({\r\n\r\n        url: self.setPrefix(`auth/initialdata?id=${id}`, prefix),\r\n\r\n        method: 'GET',\r\n        \r\n      })\r\n\r\n      return self.http(config)\r\n\r\n    }\r\n\r\n\r\n    // GET\r\n    \r\n    AppBase.get = (options) => {\r\n\r\n      options.limit = options.limit || 20\r\n\r\n      options.page = options.page || 1\r\n\r\n      options.pagination = options.pagination || true\r\n\r\n      var limit = options.limit * options.page\r\n\r\n      var skip = options.page && ( options.page == 1 ) ? 0 : limit / options.page * ( options.page - 1)\r\n\r\n      var order = options.order || 'id%20DESC'\r\n\r\n      options.url += options.query ? '?' + options.query + '&' : options.pagination ? '?' : '' \r\n\r\n      options.url += options.pagination ? 'skip='+ skip + '&limit=' + limit + '&sort=' + order : ''\r\n      console.log(options.url)\r\n\r\n      var config = self.setConfig({\r\n\r\n        url: self.setPrefix(options.url, options.prefix),\r\n\r\n        method: 'GET',\r\n\r\n      })\r\n\r\n      return self.http(config)\r\n\r\n    }\r\n\r\n\r\n    // POST PUT\r\n    AppBase.save = (data, url, prefix = true) => {\r\n\r\n      var config = {\r\n\r\n        url: self.setPrefix(url, prefix) + (data.id ? '/' + data.id : ''),\r\n\r\n        data: data,\r\n\r\n        method: data.id ? 'PUT' : 'POST'\r\n\r\n      }\r\n\r\n      return self.http(config)\r\n\r\n    }\r\n\r\n    //DELETE\r\n    AppBase.delete = (url, id, prefix = true) => {\r\n\r\n      url += '/' + id\r\n\r\n      var config = self.setConfig({\r\n\r\n        url: self.setPrefix(url, prefix),\r\n\r\n        method: 'DELETE'\r\n\r\n      })\r\n\r\n      return self.http(config)\r\n\r\n    }\r\n\r\n    // RANDOM DESIGN\r\n    AppBase.randomDesign = (toRoot = true) => {\r\n\r\n        var from = 1\r\n\r\n        var to = 10\r\n            \r\n        var random = self.getRandom(from, to)\r\n\r\n        if (random == 9)\r\n          random = self.getRandom(from, to)\r\n        if (toRoot)\r\n          $rootScope.generatedrandomdesign = 'design-' +  random\r\n\r\n        return 'design-' +  random\r\n\r\n    }\r\n\r\n    AppBase.getRandom = (from, to) => {\r\n\r\n      return Math.floor(Math.random(from, to) * to + 1)\r\n\r\n    }\r\n  \r\n    return AppBase;\r\n  }\r\n}());\r\n"],"sourceRoot":"/source/"}