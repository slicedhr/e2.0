{"version":3,"sources":["cotizaciones/cotizaciones-controller.js"],"names":[],"mappings":"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","file":"cotizaciones/cotizaciones-controller.js","sourcesContent":["(function () {\n  'use strict';\n\n  /**\n   * @ngdoc object\n   * @name cotizaciones.controller:CotizacionesCtrl\n   *\n   * @description\n   *\n   */\n  angular\n    .module('cotizaciones')\n    .controller('CotizacionesCtrl', CotizacionesCtrl);\n\n  function CotizacionesCtrl($state, $rootScope, $filter, $mdToast, $mdDialog, AppService) {\n\n    var vm = this;\n\n    vm.ctrlName = 'CotizacionesCtrl';\n\n    vm.data = {}\n\n    vm.tempProducts = []\n\n    vm.optionsWYSIWYG = AppService.defaultWYSIWYGConfig\n\n    vm.currentState = $state.current.name\n\n    vm.getCliente = () => {\n\n      AppService.http({\n\n            url: AppService.setPrefix(`clientes/${$state.params.cliente}?populate=categoriascliente`),\n\n            method: 'GET',\n\n\n          }).then(success => {\n\n            vm.cliente = success.data\n\n            vm.data.cliente = vm.cliente.id\n\n            vm.load(`contactos?cliente=${vm.cliente.id}&populate=false`, 'contactos')\n\n            vm.load('categoriacliente', 'categoriascliente', data => {\n\n              let tempCatClientes = []\n\n              vm.filteredCategoriasCliente = []\n\n              for(var i = 0, length1 = vm.cliente.categoriascliente.length; i < length1; i++){\n                \n                var found = $filter('filter')(tempCatClientes, { categoriacliente: vm.cliente.categoriascliente[i].categoriacliente })[0]\n\n                if (!found)\n\n                  if ($filter('filter')(data, { id: vm.cliente.categoriascliente[i].categoriacliente })[0].requireDiscount)\n\n                    tempCatClientes.push(vm.cliente.categoriascliente[i])\n                \n\n              }\n\n              if (tempCatClientes.length)\n\n                for(var i = 0, length1 = tempCatClientes.length; i < length1; i++)\n\n                  AppService.http({\n                    method: 'GET',\n                    url: AppService.setPrefix(`cc2p?categoriacliente=${ tempCatClientes[i].categoriacliente }&cliente=${vm.cliente.id}&populate=categoriasproductos&populate=categoriacliente`)\n                    \n                  }).then(thesuccess => {\n\n                      thesuccess.data.results.forEach( function(element, index) {\n\n                        if (element.data)\n\n                          vm.filteredCategoriasCliente.push(element)\n\n                      });\n\n\n                    })\n                \n            })\n\n            vm.contactosData = JSON.stringify({\n              vendedor_asignado: vm.cliente.vendedor_asignado\n            })\n\n          })\n\n    }\n\n    vm.getCombinaciones = () => {\n\n      AppService.http({\n\n            url: AppService.setPrefix('combinaciones?limit=99'),\n\n            method: 'GET',\n\n\n          }).then(success => {\n\n            vm.combinaciones = success.data.results\n\n          })\n\n    }\n\n\n    vm.getContacto = () => {\n\n      AppService.http({\n\n            url: AppService.setPrefix(`contactos/${$state.params.contacto}?populate=false`),\n\n            method: 'GET',\n\n\n          }).then(success => {\n\n            vm.contacto = success.data\n\n            vm.data.contacto = vm.data.contacto\n\n\n\n          })\n\n    }\n\n    vm.validateCliente = item => {\n\n      if (item){\n        vm.cliente = item\n        $state.transitionTo('generar.contacto', { cliente: vm.cliente.id })\n      }\n\n    }\n\n    vm.validateSelection = item => {\n\n      if (item){\n        vm.tempProducts.push(angular.copy(vm.productTemp))\n\n        vm.sumar()\n\n        vm.searchProduct = ''\n\n      }\n\n      else\n\n        return false\n\n    }\n\n    vm.sumar = () => {\n\n      var suma = 0;\n\n      setTimeout(() => {\n\n        for (var i = 0; i < vm.tempProducts.length; i++) \n\n            suma += ((((vm.tempProducts[i].precio_de_compra*vm.tempProducts[i].utilidad_bruta)/100)+vm.tempProducts[i].precio_de_compra)*vm.tempProducts[i].cantidad) - ((((((vm.tempProducts[i].precio_de_compra*vm.tempProducts[i].utilidad_bruta)/100)+vm.tempProducts[i].precio_de_compra)*vm.tempProducts[i].cantidad)*vm.tempProducts[i].descuentoproducto)/100) + (((((((vm.tempProducts[i].precio_de_compra*vm.tempProducts[i].utilidad_bruta)/100)+vm.tempProducts[i].precio_de_compra)*vm.tempProducts[i].cantidad) - ((((((vm.tempProducts[i].precio_de_compra*vm.tempProducts[i].utilidad_bruta)/100)+vm.tempProducts[i].precio_de_compra)*vm.tempProducts[i].cantidad)*vm.tempProducts[i].descuentoproducto)/100))*vm.tempProducts[i].iva)/100);\n\n\n          vm.sumaTotal = suma\n\n      }, 0)\n\n      \n\n    }\n\n    vm.removeProduct = row => {\n\n      vm.tempProducts.splice(vm.tempProducts.indexOf(row), 1)\n\n      vm.sumar()\n\n    }\n\n    vm.selectCombinacion = item => {\n\n      vm.tempProducts = []\n\n      vm.data.categoria = item.categoria.id\n\n      vm.tempProducts = angular.copy(item.productos)\n\n      vm.showCombinaciones = false\n\n      vm.sumar()\n\n\n    }\n\n    vm.changeDiscount = () => {\n\n      vm.tempProducts[vm.tempIndexToDiscount].descuentoproducto = vm.descuentoTemporal\n\n      vm.sumar()\n\n    }\n\n    vm.discountToMax = (producto, catcli) => {\n\n      return AppService.http({\n          url: AppService.setPrefix(`descuentos?producto=${producto}&categoriacliente=${catcli}&populate=false`),\n          method: 'GET',\n        })\n\n    }\n\n    vm.selectDiscountFromPanel =  (item, ordinario = false) => {\n\n\n      if (ordinario){\n\n        vm.descuentoMaximo = vm.tempProducts[vm.tempIndexToDiscount].descuento\n\n        vm.showDiscountPanel = true\n\n        vm.panelselect = false\n\n        return\n\n      }\n\n      if (item.requireProduct) {\n\n        if ($filter('filter')(vm.filteredCategoriasCliente[0].categoriasproductos, { id: vm.data.categoria })[0]){\n\n          vm.discountToMax(vm.tempProducts[vm.tempIndexToDiscount].id, item.categoriacliente.id)\n            .then(success => {\n\n              var results = success.data.results;\n\n              if (results.length)\n\n                vm.descuentoMaximo = results[0].descuento\n\n              \n              else{\n\n                vm.descuentoMaximo = vm.tempProducts[vm.tempIndexToDiscount].descuento || 0\n\n                $mdToast.show(\n\n                      $mdToast.simple()\n\n                        .textContent('Posiblemente no se han parametrizado descuentos!')\n                        .position('top right')\n                        .hideDelay(7000)\n\n                    );\n                \n              }\n\n              vm.showDiscountPanel = true\n\n              vm.panelselect = false\n\n\n            })\n\n\n        }\n        else{\n          var categoria = $filter('filter')(vm.categorias, { id: vm.data.categoria })[0].nombre_categoria\n          \n          $mdToast.show(\n\n                    $mdToast.simple()\n\n                      .textContent(`El descuento seleccionado no aplica para la categorÃ­a ${categoria}`)\n                      .position('bottom right')\n                      .hideDelay(7000)\n\n                  );\n        }\n\n      }\n      else{\n\n        vm.discountToMax(vm.tempProducts[vm.tempIndexToDiscount].id, item.categoriacliente.id)\n            .then(success => {\n\n            var results = success.data.results;\n\n            if (results.length)\n\n              vm.descuentoMaximo = results[0].descuento\n\n            \n            else{\n\n              vm.descuentoMaximo = vm.tempProducts[vm.tempIndexToDiscount].descuento || 0\n\n              $mdToast.show(\n\n                    $mdToast.simple()\n\n                      .textContent('Posiblemente no se han parametrizado descuentos!')\n                      .position('top right')\n                      .hideDelay(7000)\n\n                  );\n              \n            }\n\n            vm.showDiscountPanel = true\n\n            vm.panelselect = false\n\n\n          })\n\n\n      }\n\n      \n        \n\n    }\n\n    vm.openDiscountSlide = row => {\n\n      vm.descuentoTemporal = row.descuentoproducto \n\n      vm.tempIndexToDiscount = vm.tempProducts.indexOf(row)\n\n      if (vm.filteredCategoriasCliente.length > 1) {\n\n        vm.panelselect = true\n\n      }\n      else if (vm.filteredCategoriasCliente.length == 1) {\n\n        vm\n          .discountToMax(row.id, vm.filteredCategoriasCliente[0].categoriacliente.id)\n          .then(success => {\n\n          var results = success.data.results\n\n          vm.showDiscountPanel = true\n\n\n          if (results.length) {\n\n            if (vm.filteredCategoriasCliente[0].categoriacliente.requireProduct){\n              \n              if ($filter('filter')(vm.filteredCategoriasCliente[0].categoriasproductos, { id: vm.data.categoria })[0])\n                vm.descuentoMaximo = results[0].descuento\n              \n              else\n                vm.descuentoMaximo = row.descuento || 0\n              \n            }\n            else\n              vm.descuentoMaximo = results[0].descuento\n\n          }\n          else {\n\n            vm.descuentoMaximo = row.descuento || 0\n\n            $mdToast.show(\n\n                  $mdToast.simple()\n\n                    .textContent('Posiblemente no se han parametrizado descuentos!')\n                    .position('top right')\n                    .hideDelay(7000)\n\n                );\n          }\n\n          \n\n        })\n\n      }\n      else{\n\n        vm.showDiscountPanel = true\n\n        vm.descuentoMaximo = row.descuento || 0\n\n      }\n\n    }\n\n\n\n    vm.getAutocomplete = (text, field, source) => {\n      \n      var query = {}\n\n      query[field] = {\n\n        contains: text\n\n      }\n\n      query['categoria'] = vm.data.categoria\n\n      var config = {\n\n        url: source,\n\n        query: 'where=' + JSON.stringify(query) + '&populate=false',\n\n        order: field + ' ASC'\n\n      }\n\n      return AppService\n                .get(config)\n                .then(success => {\n\n                  return success.data.results\n\n                })['catch'](err => {\n\n                  AppService.broadcastError(err)\n\n                })\n    }\n\n    vm.load = (source, model, cb) => {\n\n      let config = {\n\n        method: 'GET',\n\n        url: AppService.setPrefix(`${source}`)\n\n\n      } \n\n      AppService\n        .http(config)\n        .then(success => {\n\n          vm[model] = success.data.results\n\n          if (cb) cb(success.data.results)\n\n        })\n\n    }\n\n    vm.generar = () => {\n\n      var detalle = [];\n\n      vm.data.generadaPor = $rootScope.auth.user.id;\n\n      vm.data.vendedor = vm.cliente.vendedor_asignado\n      \n      vm.data.valor_total = vm.sumaTotal\n\n      if (vm.tempProducts.length) {\n\n        vm.tempProducts.forEach( function(element, index) {\n          \n        detalle.push({\n            producto: element.id,\n            cantidad: element.cantidad,\n            precio: element.precio_de_compra,\n            iva: element.iva,\n            utilidad_bruta: element.utilidad_bruta,\n            descuento: element.descuento,\n        })\n\n      });\n\n      var config = {\n        method: 'POST',\n        url: AppService.setPrefix('registrar-cotizacion'),\n        data: {\n          data: vm.data,\n          detalle: detalle\n        }\n\n      }\n\n      vm.disabledSave = true\n\n      AppService\n        .http(config)\n        .then(success => {\n\n          if (success.data.ok){\n            $state.transitionTo('cliente', { id: vm.cliente.id, razon_social: vm.cliente.razon_social })\n\n          }\n\n        })\n\n      }\n      else\n        $mdToast.show(\n\n            $mdToast.simple()\n\n              .textContent('Por favor agregar productos a la lista!')\n              .position('top right')\n              .hideDelay(5000)\n\n          );\n\n\n      \n\n    }\n\n    switch ($state.current.name) {\n\n      case 'generar.contacto':\n\n        if (!$state.params.cliente)\n          $state.transitionTo('generar')\n\n        else\n          vm.getCliente()\n        \n      break;\n\n      case 'generar.detalle':\n\n        if ($state.params.cliente && $state.params.contacto){\n\n          vm.getCliente()\n\n\n          if ($state.params.contacto != 'none') vm.getContacto()\n\n            AppService.http({\n\n              url: AppService.setPrefix(`categoriasproductos?limit=99&populate=false`),\n\n              method: 'GET',\n\n            }).then(success => {\n\n              vm.categorias = success.data.results\n\n            })\n\n\n          vm.getCombinaciones()\n\n        }\n          \n        else\n          $state.transitionTo('generar')\n\n      break;\n\n      default:\n\n        $state.transitionTo('generar')\n\n      break;\n    }\n\n\n    $rootScope.$on('saved:cliente', ($event, data) => {\n\n        vm.cliente = data;\n\n        vm.data.cliente = data.id\n\n        vm.contactosData = JSON.stringify({\n              vendedor_asignado: vm.cliente.vendedor_asignado\n            })\n\n        $state.transitionTo('generar.contacto', { cliente: data.id })\n\n    })\n\n    $rootScope.$on('saved:contacto', ($event, data) => {\n\n        vm.contacto = data;\n\n        vm.data.contacto = data.id\n\n        $state.transitionTo('generar.detalle', { cliente: vm.cliente.id, contacto: data.id })\n\n    })\n\n\n  }\n}());\n  "],"sourceRoot":"/source/"}