{"version":3,"sources":["cotizaciones/cotizaciones-controller.js"],"names":[],"mappings":";;AAAA,AAAC,CAAA,YAAY;AACX,cAAY,CAAC;;;;;;;;;AASb,SAAO,CACJ,MAAM,CAAC,cAAc,CAAC,CACtB,UAAU,CAAC,kBAAkB,EAAE,gBAAgB,CAAC,CAAC;;AAEpD,WAAS,gBAAgB,CAAC,MAAM,EAAE,UAAU,EAAE,UAAU,EAAE;AACxD,QAAI,EAAE,GAAG,IAAI,CAAC;AACd,MAAE,CAAC,QAAQ,GAAG,kBAAkB,CAAC;;AAEjC,MAAE,CAAC,YAAY,GAAG,MAAM,CAAC,OAAO,CAAC,IAAI,CAAA;;AAErC,MAAE,CAAC,UAAU,GAAG,YAAM;;AAEpB,gBAAU,CAAC,IAAI,CAAC;;AAEV,WAAG,EAAE,UAAU,CAAC,SAAS,eAAa,MAAM,CAAC,MAAM,CAAC,OAAO,qBAAkB;;AAE7E,cAAM,EAAE,KAAK;;OAGd,CAAC,CAAC,IAAI,CAAC,UAAA,OAAO,EAAI;;AAEjB,UAAE,CAAC,OAAO,GAAG,OAAO,CAAC,IAAI,CAAA;;AAEzB,UAAE,CAAC,aAAa,GAAG,IAAI,CAAC,SAAS,CAAC;AAChC,2BAAiB,EAAE,EAAE,CAAC,OAAO,CAAC,iBAAiB;SAChD,CAAC,CAAA;OAEH,CAAC,CAAA;KAEP,CAAA;;AAED,MAAE,CAAC,WAAW,GAAG,YAAM;;AAErB,gBAAU,CAAC,IAAI,CAAC;;AAEV,WAAG,EAAE,UAAU,CAAC,SAAS,gBAAc,MAAM,CAAC,MAAM,CAAC,QAAQ,qBAAkB;;AAE/E,cAAM,EAAE,KAAK;;OAGd,CAAC,CAAC,IAAI,CAAC,UAAA,OAAO,EAAI;;AAEjB,UAAE,CAAC,QAAQ,GAAG,OAAO,CAAC,IAAI,CAAA;OAI3B,CAAC,CAAA;KAEP,CAAA;;AAED,YAAQ,MAAM,CAAC,OAAO,CAAC,IAAI;;AAEzB,WAAK,kBAAkB;;AAErB,YAAI,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,EACxB,MAAM,CAAC,YAAY,CAAC,SAAS,CAAC,CAAA,KAG9B,EAAE,CAAC,UAAU,EAAE,CAAA;;AAEnB,cAAM;;AAAA,AAEN,WAAK,iBAAiB;;AAEpB,YAAI,MAAM,CAAC,MAAM,CAAC,OAAO,IAAI,MAAM,CAAC,MAAM,CAAC,QAAQ,EAAC;;AAElD,YAAE,CAAC,UAAU,EAAE,CAAA;;AAEf,cAAI,MAAM,CAAC,MAAM,CAAC,QAAQ,IAAI,MAAM,EAAE,EAAE,CAAC,WAAW,EAAE,CAAA;SAEvD,MAGC,MAAM,CAAC,YAAY,CAAC,SAAS,CAAC,CAAA;;AAElC,cAAM;;AAAA,AAEN;;AAEE,cAAM,CAAC,YAAY,CAAC,SAAS,CAAC,CAAA;;AAEhC,cAAM;AAAA,KACP;;AAGD,cAAU,CAAC,GAAG,CAAC,eAAe,EAAE,UAAC,MAAM,EAAE,IAAI,EAAK;;AAE9C,QAAE,CAAC,OAAO,GAAG,IAAI,CAAC;;AAElB,QAAE,CAAC,aAAa,GAAG,IAAI,CAAC,SAAS,CAAC;AAC5B,yBAAiB,EAAE,EAAE,CAAC,OAAO,CAAC,iBAAiB;OAChD,CAAC,CAAA;;AAEN,YAAM,CAAC,YAAY,CAAC,kBAAkB,EAAE,EAAE,OAAO,EAAE,IAAI,CAAC,EAAE,EAAE,CAAC,CAAA;KAEhE,CAAC,CAAA;;AAEF,cAAU,CAAC,GAAG,CAAC,gBAAgB,EAAE,UAAC,MAAM,EAAE,IAAI,EAAK;;AAE/C,QAAE,CAAC,QAAQ,GAAG,IAAI,CAAC;;AAEnB,YAAM,CAAC,YAAY,CAAC,iBAAiB,EAAE,EAAE,OAAO,EAAE,EAAE,CAAC,OAAO,CAAC,EAAE,EAAE,QAAQ,EAAE,IAAI,CAAC,EAAE,EAAE,CAAC,CAAA;KAExF,CAAC,CAAA;GAGH;CACF,CAAA,EAAE,CAAE","file":"cotizaciones/cotizaciones-controller.js","sourcesContent":["(function () {\n  'use strict';\n\n  /**\n   * @ngdoc object\n   * @name cotizaciones.controller:CotizacionesCtrl\n   *\n   * @description\n   *\n   */\n  angular\n    .module('cotizaciones')\n    .controller('CotizacionesCtrl', CotizacionesCtrl);\n\n  function CotizacionesCtrl($state, $rootScope, AppService) {\n    var vm = this;\n    vm.ctrlName = 'CotizacionesCtrl';\n\n    vm.currentState = $state.current.name\n\n    vm.getCliente = () => {\n\n      AppService.http({\n\n            url: AppService.setPrefix(`clientes/${$state.params.cliente}?populate=false`),\n\n            method: 'GET',\n\n\n          }).then(success => {\n\n            vm.cliente = success.data\n\n            vm.contactosData = JSON.stringify({\n              vendedor_asignado: vm.cliente.vendedor_asignado\n            })\n\n          })\n\n    }\n\n    vm.getContacto = () => {\n\n      AppService.http({\n\n            url: AppService.setPrefix(`contactos/${$state.params.contacto}?populate=false`),\n\n            method: 'GET',\n\n\n          }).then(success => {\n\n            vm.contacto = success.data\n\n\n\n          })\n\n    }\n\n    switch ($state.current.name) {\n\n      case 'generar.contacto':\n\n        if (!$state.params.cliente)\n          $state.transitionTo('generar')\n\n        else\n          vm.getCliente()\n        \n      break;\n\n      case 'generar.detalle':\n\n        if ($state.params.cliente && $state.params.contacto){\n\n          vm.getCliente()\n\n          if ($state.params.contacto != 'none') vm.getContacto()\n\n        }\n          \n        else\n          $state.transitionTo('generar')\n\n      break;\n\n      default:\n\n        $state.transitionTo('generar')\n\n      break;\n    }\n\n\n    $rootScope.$on('saved:cliente', ($event, data) => {\n\n        vm.cliente = data;\n\n        vm.contactosData = JSON.stringify({\n              vendedor_asignado: vm.cliente.vendedor_asignado\n            })\n\n        $state.transitionTo('generar.contacto', { cliente: data.id })\n\n    })\n\n    $rootScope.$on('saved:contacto', ($event, data) => {\n\n        vm.contacto = data;\n\n        $state.transitionTo('generar.detalle', { cliente: vm.cliente.id, contacto: data.id })\n\n    })\n\n\n  }\n}());\n"],"sourceRoot":"/source/"}