{"version":3,"sources":["error-interceptor-factory.js"],"names":[],"mappings":";;AAAA,AAAC,CAAA,YAAY;AACX,gBAAY,CAAC;;;;;;;;;AASb,WAAO,CACJ,MAAM,CAAC,YAAY,CAAC,CACpB,OAAO,CAAC,kBAAkB,EAAE,gBAAgB,CAAC,CAAC;;AAEjD,aAAS,gBAAgB,CAAC,UAAU,EAAE,EAAE,EAAE,IAAI,EAAE;;AAE9C,YAAI,oBAAoB,GAAG,EAAE,CAAC;;;;;;;;;;AAU9B,4BAAoB,CAAC,QAAQ,GAAG,UAAU,QAAQ,EAAE;;AAElD,gBAAI,MAAM,GAAG,QAAQ,CAAC,MAAM,CAAA;;AAI5B,gBAAI,QAAQ,CAAC,UAAU,IAAI,cAAc,EAAE;;AAEvC,0BAAU,CAAC,UAAU,CAAC,WAAW,EAAE,MAAM,CAAC,CAAC;;AAE3C,uBAAO;aACV,MAEI,IAAK,AAAC,MAAM,IAAI,GAAG,IAAM,MAAM,GAAG,GAAG,AAAC,EAAG;;AAE1C,0BAAU,CAAC,UAAU,CAAC,aAAa,EAAE,MAAM,CAAC,CAAC;;AAE7C,uBAAO;aACV;;AAED,mBAAO,QAAQ,CAAC;SAEjB,EAED,oBAAoB,CAAC,aAAa,GAAG,UAAU,QAAQ,EAAE;;AAEvD,gBAAI,QAAQ,CAAC,UAAU,IAAI,cAAc,EAEvC,UAAU,CAAC,UAAU,CAAC,WAAW,EAAE,MAAM,CAAC,CAAC,KAEzC;AACF,oBAAI,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAA;AAChC,oBAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAA;AACnB,0BAAU,CAAC,UAAU,CAAC,aAAa,EAAE,QAAQ,CAAC,CAAC;aAChD;;AAED,mBAAO,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;SAE5B,CAAA;;AAED,eAAO,oBAAoB,CAAC;KAC7B;CACF,CAAA,EAAE,CAAE","file":"error-interceptor-factory.js","sourcesContent":["(function () {\r\n  'use strict';\r\n\r\n  /**\r\n   * @ngdoc service\r\n   * @name enterprise.factory:ErrorInterceptor\r\n   *\r\n   * @description\r\n   *\r\n   */\r\n  angular\r\n    .module('enterprise')\r\n    .factory('ErrorInterceptor', ErrorInterceptor);\r\n\r\n  function ErrorInterceptor($rootScope, $q, $log) {\r\n\r\n    var ErrorInterceptorBase = {};\r\n\r\n    // ErrorInterceptorBase.request = function(config) {\r\n    //   return config;\r\n    // }\r\n\r\n    // ErrorInterceptorBase.requestError = function(rejection) {\r\n    //   return $q.reject(rejection);\r\n    // }\r\n    \r\n    ErrorInterceptorBase.response = function (response) {\r\n\r\n      var status = response.status\r\n\r\n\r\n\r\n      if (response.statusText == 'Unauthorized') {\r\n\r\n          $rootScope.$broadcast(\"AuthError\", status);\r\n\r\n          return;\r\n      }\r\n\r\n      else if ( (status >= 500) && (status < 600) ) {\r\n\r\n          $rootScope.$broadcast(\"ServerError\", status);\r\n\r\n          return;\r\n      }\r\n      \r\n      return response;\r\n\r\n    },\r\n\r\n    ErrorInterceptorBase.responseError = function (response) {\r\n\r\n      if (response.statusText == 'Unauthorized')\r\n\r\n        $rootScope.$broadcast(\"AuthError\", status);\r\n      \r\n      else{\r\n        $log.warn('Error en el server.')\r\n        $log.warn(response)\r\n        $rootScope.$broadcast(\"ServerError\", response);\r\n      }\r\n\r\n      return $q.reject(response);\r\n\r\n    }\r\n\r\n    return ErrorInterceptorBase;\r\n  }\r\n}());\r\n"],"sourceRoot":"/source/"}