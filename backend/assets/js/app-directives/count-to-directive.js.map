{"version":3,"sources":["app-directives/count-to-directive.js"],"names":[],"mappings":";;AAAA,AAAC,CAAA,YAAY;AACX,gBAAY,CAAC;AACb,WAAO,CACF,MAAM,CAAC,YAAY,CAAC,CACpB,SAAS,CAAC,SAAS,EAAE,OAAO,CAAC,CAAA;;AAGhC,aAAS,OAAO,CAAC,QAAQ,EAAE;AACvB,eAAO;AACH,mBAAO,EAAE,KAAK;AACd,iBAAK,EAAE,IAAI;AACX,gBAAI,EAAE,cAAU,KAAK,EAAE,OAAO,EAAE,KAAK,EAAE;;AAEnC,oBAAI,CAAC,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC;AACnB,oBAAI,GAAG,EAAE,eAAe,EAAE,QAAQ,EAAE,KAAK,EAAE,IAAI,EAAE,OAAO,EAAE,KAAK,EAAE,SAAS,CAAC;;AAE3E,oBAAI,SAAS,GAAG,SAAZ,SAAS,GAAe;AACxB,mCAAe,GAAG,EAAE,CAAC;AACrB,wBAAI,GAAG,CAAC,CAAC;AACT,yBAAK,CAAC,QAAQ,GAAG,IAAI,CAAC;AACtB,2BAAO,GAAG,QAAQ,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;AACvC,yBAAK,CAAC,KAAK,GAAG,QAAQ,CAAC,KAAK,CAAC,KAAK,EAAE,EAAE,CAAC,IAAI,CAAC,CAAC;AAC7C,4BAAQ,GAAG,AAAC,UAAU,CAAC,KAAK,CAAC,QAAQ,CAAC,GAAG,IAAI,IAAK,CAAC,CAAC;;AAEpD,yBAAK,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,eAAe,CAAC,CAAC;AAC9C,6BAAS,GAAI,CAAC,OAAO,GAAG,KAAK,CAAC,KAAK,CAAA,GAAI,KAAK,AAAC,CAAC;AAC9C,uBAAG,GAAG,KAAK,CAAC,KAAK,CAAC;iBACrB,CAAA;;AAED,oBAAI,IAAI,GAAG,SAAP,IAAI,GAAe;AACnB,yBAAK,CAAC,QAAQ,GAAG,QAAQ,CAAC,YAAY;AAClC,2BAAG,IAAI,SAAS,CAAC;AACjB,4BAAI,EAAE,CAAC;AACP,4BAAI,IAAI,IAAI,KAAK,EAAE;AACf,oCAAQ,CAAC,MAAM,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;AAChC,+BAAG,GAAG,OAAO,CAAC;AACd,6BAAC,CAAC,WAAW,GAAG,OAAO,CAAC;yBAC3B,MAAM;AACH,6BAAC,CAAC,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;AAChC,gCAAI,EAAE,CAAC;yBACV;qBACJ,EAAE,eAAe,CAAC,CAAC;iBAEvB,CAAA;;AAED,oBAAI,KAAK,GAAG,SAAR,KAAK,GAAe;;AAEpB,wBAAI,KAAK,CAAC,QAAQ,EAEd,QAAQ,CAAC,MAAM,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;;AAEpC,6BAAS,EAAE,CAAC;;AAEZ,wBAAI,EAAE,CAAC;iBAEV,CAAA;;AAED,qBAAK,CAAC,QAAQ,CAAC,SAAS,EAAE,UAAU,GAAG,EAAE;AACrC,wBAAI,GAAG,EACH,KAAK,EAAE,CAAC;iBACf,CAAC,CAAC;;AAEH,qBAAK,CAAC,QAAQ,CAAC,OAAO,EAAE,UAAU,GAAG,EAAE;AACnC,yBAAK,EAAE,CAAC;iBACX,CAAC,CAAC;;AAEH,uBAAO,IAAI,CAAC;aACf;SACJ,CAAA;KAEJ;CAEJ,CAAA,EAAE,CAAE","file":"app-directives/count-to-directive.js","sourcesContent":["(function () {\n  'use strict';\n  angular\n      .module('enterprise')\n      .directive('countTo', CountTo)  \n\n\n    function CountTo($timeout) {\n        return {\n            replace: false,\n            scope: true,\n            link: function (scope, element, attrs) {\n\n                var e = element[0];\n                var num, refreshInterval, duration, steps, step, countTo, value, increment;\n\n                var calculate = function () {\n                    refreshInterval = 30;\n                    step = 0;\n                    scope.timoutId = null;\n                    countTo = parseInt(attrs.countTo) || 0;\n                    scope.value = parseInt(attrs.value, 10) || 0;\n                    duration = (parseFloat(attrs.duration) * 1000) || 0;\n\n                    steps = Math.ceil(duration / refreshInterval);\n                    increment = ((countTo - scope.value) / steps);\n                    num = scope.value;\n                }\n\n                var tick = function () {\n                    scope.timoutId = $timeout(function () {\n                        num += increment;\n                        step++;\n                        if (step >= steps) {\n                            $timeout.cancel(scope.timoutId);\n                            num = countTo;\n                            e.textContent = countTo;\n                        } else {\n                            e.textContent = Math.round(num);\n                            tick();\n                        }\n                    }, refreshInterval);\n\n                }\n\n                var start = function () {\n\n                    if (scope.timoutId)\n\n                        $timeout.cancel(scope.timoutId);\n\n                    calculate();\n\n                    tick();\n\n                }\n\n                attrs.$observe('countTo', function (val) {\n                    if (val)\n                        start();\n                });\n\n                attrs.$observe('value', function (val) {\n                    start();\n                });\n\n                return true;\n            }\n        }\n\n    }\n\n}());\n"],"sourceRoot":"/source/"}